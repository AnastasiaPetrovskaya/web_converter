extends ../head2

block body
    div.robust-content.content.container-fluid
        div.content-wrapper
            div.content-header.row
                div(class="content-header-left col-md-6 col-xs-12")
                    h3(class="content-header-title mb-0") Учебные материалы
                div(class="content-header-lead col-xs-12 mt-1")
            .content-body
                section#configuration
                    .row
                        .col-xs-12
                            .card
                                .card-header
                                    h4.card-title Список учебных материалов
                                .card-body.collapse.in
                                    .card-block.card-dashboard
                                        p.card-text.font-medium-1
                                            | В данном списке представлены учебные материалы.
                                            | Каждый учебный материал имеет определенный тип, относящийся либо к реляционной алгебре, либо к исчислению на кортежах.
                                            | Существует смешанный тип - это тип учебного материала, содержащего как информацию по реляционной алгребре, так  и информацию по исчислению на кортежах.
                                        .row
                                            .col-md-6
                                                fieldset
                                                    .input-group
                                                        input(type="text" class="form-control" placeholder="Поиск по названию" aria-label="Amount")
                                                        span.input-group-btn
                                                            button.btn.btn-tumblr(type="button")
                                                                i.icon-search5
                                                                |  Поиск
                                            .col-md-6
                                                .form-group
                                                    if (profile.permissions.Database.create)
                                                        button(type="button" class="btn btn-tumblr btn-mid-width mr-1 mb-1" data-toggle="modal" data-target="#mt_2_psql")
                                                            i.icon-plus3
                                                            |  Добавить новый учебный материал
                                        .row.mt-2
                                            #materials.col-md-12
                                                //include ./../parts/pagination


    div(class="modal fade text-xs-left" id="mt_2_psql" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1" aria-hidden="true")
        div.modal-dialog.modal-lg(role="document")
            div(class="modal-content")
                .modal-header.bg-custom-blue-grey-2.white
                    button(type="button" class="close" data-dismiss="modal" aria-label="Close")
                        span.white(aria-hidden="true") &times;
                    h4(class="modal-title" id="myModalLabel1")
                        i.icon-file-text
                        |  Добавление нового учебного материала
                .modal-body
                    p.font-small-3
                        | Можно добавлять только файлы расширения pdf
                    hr
                    form#create_material_form.form-horizontal(novalidate data-backdrop="static")
                        .form-group
                            h6 Выберете файл с расширением .pdf
                            .controls
                                input#mt_file.form-control(type="file" name="pattern" pattern=".*\.pdf" data-validation-pattern-message="Файл должен иметь расширение '.pdf'" data-validation-required-message="Данное поле обязательно для заполнения" required aria-invalid="false")
                                .help-block
                        .form-group
                            h6 Введите название учебного материала
                                .controls
                                    textarea#mt_title.form-control(name="textarea" aria-invalid="false")
                                    .help-block
                            h6 Выберите тип материала
                            .controls
                                select#mt_type.form-control(required name="select" data-validation-required-message="Необходимо выбрать тип материала")
                                    option(value="Реляционная алгебра") Реляционная алгебра
                                    option(value="Исчисление на кортежах") Исчисление на кортежах
                                    option(value="Смешанный") Смешанный
                                .help-block
                        .form-group
                            h6 Введите комментарий к учебному материалу
                            .controls
                                textarea#mt_text.form-control(name="textarea" aria-invalid="false")
                                .help-block

                .modal-footer
                    button#btn_submit(type="submit" form="create_material_form" class="btn btn-success mr-1 ") Создать
                    button(type="reset" form="create_material_form" class="btn btn-danger ") Отмена

    #sql_query_modal.hidden-xs-up
        .row#sql_query_div
            .col-lg-12.col-md-12
                label(for="sql_query_text")
                textarea#sql_query_text(style="width:100%; resize:both" rows="10" placeholder="SELECT DISTINCT * FROM ...;" )
        .row
            .col-md-12#sql_query_data



block append footer

    script(src="/robust-assets/js/components/modal/components-modal.js" type="text/javascript")

    script(src="/robust-assets/js/plugins/forms/spinner/jquery.bootstrap-touchspin.js" type="text/javascript")
    script(src="/robust-assets/js/plugins/forms/validation/jqBootstrapValidation.js" type="text/javascript")
    script(src="/robust-assets/js/plugins/forms/icheck/icheck.min.js" type="text/javascript")
    script(src="/robust-assets/js/plugins/forms/toggle/bootstrap-switch.min.js" type="text/javascript")
    script(src="/robust-assets/js/plugins/forms/toggle/switchery.min.js" type="text/javascript")
    script(src="/robust-assets/js/components/forms/validation/form-validation.js" type="text/javascript")

    script(src="/js/pages/materials/add_mt.js" type="text/javascript")
    //script(src="/js/pages/materials/download.js" type="text/javascript")
    script(src="/js/pages/materials/index.js" type="text/javascript")
    script(src="/js/pages/materials/table.js" type="text/javascript")